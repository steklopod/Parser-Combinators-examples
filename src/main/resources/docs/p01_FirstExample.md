## Уровень 2: Reverse Russian Notation Calculator 

Стоит еще раз повторить основные понятия:
 
 
Начнем с того, что разберем термин на части, **`парсеры`** и **`комбинаторы`** и объясним, что это 
на самом деле, если вы не в курсе. 

**Парсер** - это функция, которая принимает поток входных токенов 
и преобразует их в формат (как правило, структуру данных, такую как список или дерево), 
которая более легко потребляется вашим приложением. 

**Комбинатор** - это просто функция более высокого порядка, которая объединяет две функции в новую функцию. 

**Комбинатор парсеров** - это просто функция, которая объединяет два парсера в другой парсер.

>Как их использовать?

Мы собираемся построить калькулятор `Reverse Russian Notation` в качестве примера того, 
как применять компараторы. Во-первых, я хочу перейти к доступным комбинаторам, которые мы собираемся 
использовать в этом примере:

* **`|`** - комбинатор чередования. Он говорит: _«Успешно, если операнд либо слева, либо справа распаршен»_

* **`~`** - последовательный комбинатор. Он говорит: _«Успешно, если `левый операнд успешно распаршен, 
а затем переходим к правому`»_

* **`~>`** - говорит _«Успешно, если `левый операнд успешно распаршен, а затем справа`, но не включает 
левое содержимое в результат»_

* **`<~`** - обратное _"Успешно, если `левый операнд успешно распаршен, а затем справа, 
но не включает в себя правый` контент в результате"_

* **`^^`** - комбинатор преобразований. _«Если левый операнд успешно распаршен, преобразовать результат, `используя функцию справа`»_

* **`rep(p)`** - _Повторить n-раз парсер `p`, пока не возникнет ошибка. 

Теперь, когда мы рассмотрели, что представляют собой доступные комбинаторы, наш первый шаг - 
определить, как разбирать число:

<!-- code -->
```scala
    import scala.util.parsing.combinator._
    
    class ReverseRussianCalculator extends JavaTokenParsers {
        def num: Parser[Float] = floatingPointNumber ^^ (_.toFloat)
    }
```

[переведено мной отсюда](http://bitwalker.org/posts/2013-08-10-learn-by-example-scala-parser-combinators)

[еще пример для самых умных](http://www.codecommit.com/blog/scala/the-magic-behind-parser-combinators)
